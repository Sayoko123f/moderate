---
import { Image } from "astro:assets";
import { loadImage } from "@/utils/load-image";

interface Props {
  alt?: string;
  basePath?: string;
  src: string;
}

const { src, alt = "", basePath = "/" } = Astro.props;

const { isLocal, localImage, urlIfNotLocal } = await loadImage({
  src,
  basePath,
});
---

{localImage && <Image src={localImage} alt={alt} />}

{!isLocal && <img src={urlIfNotLocal} />}
